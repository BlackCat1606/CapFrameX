<UserControl x:Class="CapFrameX.View.ColorbarView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
			 xmlns:prism="http://prismlibrary.com/"
             xmlns:mvvm="clr-namespace:CapFrameX.MVVM.Converter;assembly=CapFrameX.MVVM"
             xmlns:local="clr-namespace:CapFrameX.View"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
			 prism:ViewModelLocator.AutoWireViewModel="True">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Shadows.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.DataGrid.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Slider.xaml" />
			</ResourceDictionary.MergedDictionaries>
            <mvvm:BoolToVisibilityConverter x:Key="FalseToCollapsedConverter" TrueValue="Visible" FalseValue="Collapsed"/>
			<mvvm:EnumDescriptionConverter x:Key="EnumDescriptionConverter"/>
		</ResourceDictionary>
	</UserControl.Resources>
	<Grid>
		<materialDesign:ColorZone Mode="PrimaryMid">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="2*"/>
					<ColumnDefinition Width="1*"/>
				</Grid.ColumnDefinitions>
				<StackPanel Grid.Column="0" Orientation="Horizontal" Margin="2">
					<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding CaptureIsChecked}"
							 Content="CAPTURE" 
                             Visibility="{Binding IsCompatibleWithRunningOS, Converter={StaticResource FalseToCollapsedConverter}}"/>
					<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding SingleRecordIsChecked}"
							 Content="ANALYSIS" />
					<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding RecordComparisonIsChecked}"
							 Content="COMPARISON" />
					<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding ReportIsChecked}"
							 Content="REPORT" />
					<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding SynchronizationIsChecked}"
							 Content="SYNCHRONIZATION" />
					<!--<RadioButton Style="{StaticResource MaterialDesignTabRadioButton}"
							 Margin="5"
							 IsChecked="{Binding AggregationIsChecked}"
							 Content="AGGREGATION" />-->
				</StackPanel>

				<Button Grid.Column="1" Margin="0 0 50 0" HorizontalAlignment="Right" BorderThickness="0" Background="Transparent"
                    x:Name="GitHubButton" Click="GitHubButton_Click" Width="120" Height="50">
					<StackPanel Orientation="Horizontal">
						<materialDesign:PackIcon Kind="GithubCircle" Height="30" Width="30" VerticalAlignment="Center"/>
						<TextBlock Margin="8 0 0 0" VerticalAlignment="Center">GitHub</TextBlock>
					</StackPanel>
				</Button>

				<materialDesign:PopupBox Grid.Column="1" RequestBringIntoView="PopupBox_RequestBringIntoView" Margin="16,0,16,0" StaysOpen="True" PlacementMode="BottomAndAlignRightEdges" HorizontalAlignment="Right">
					<Grid Margin="8 8 8 8">
						<Grid.Resources>
							<Style TargetType="CheckBox" BasedOn="{StaticResource MaterialDesignCheckBox}">
								<Setter Property="Margin" Value="8,8,10,8" />
							</Style>
							<Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignTextBox}">
								<Setter Property="materialDesign:HintAssist.IsFloating" Value="True" />
								<Setter Property="Margin" Value="8,8,8,8" />
							</Style>
						</Grid.Resources>
						<Grid.RowDefinitions>
							<RowDefinition Height="*" />
							<RowDefinition Height="*" />
							<RowDefinition Height="*" />
							<RowDefinition Height="*" />
							<RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
						<TextBlock Grid.Row="0" Grid.Column="0"
										   Style="{StaticResource MaterialDesignTitleTextBlock}"
										   Margin="8,8,8,16">
									OPTIONS
						</TextBlock>
                        <ComboBox Grid.Row="1" Grid.Column="0" materialDesign:HintAssist.Hint="Moving average window" HorizontalAlignment="Left"
								  materialDesign:HintAssist.IsFloating="True" MaxDropDownHeight="100" Width="140" Margin="20 15 15 15"
								  ItemsSource="{Binding WindowSizes}">
                            <ComboBox.Text>
                                <Binding Path="SelectWindowSize"
										 Mode="TwoWay"
										 UpdateSourceTrigger="PropertyChanged">
                                </Binding>
                            </ComboBox.Text>
                        </ComboBox>
                        <ComboBox Grid.Row="1" Grid.Column="1" materialDesign:HintAssist.Hint="FPS values decimals" HorizontalAlignment="Center"
								  materialDesign:HintAssist.IsFloating="True" MaxDropDownHeight="100" Width="120" Margin="15 15"
								  ItemsSource="{Binding RoundingDigits}">
                            <ComboBox.Text>
                                <Binding Path="FpsValuesRoundingDigits"
										 Mode="TwoWay"
										 UpdateSourceTrigger="PropertyChanged">
                                </Binding>
                            </ComboBox.Text>
                        </ComboBox>
                        <TextBox Grid.Row="1" Grid.Column="2" materialDesign:HintAssist.Hint="Stuttering factor" HorizontalAlignment="Right" Width="90"  Margin="15 15">
                            <TextBox.Text>
                                <Binding Path="StutteringFactor"
										 Mode="TwoWay"
										 UpdateSourceTrigger="LostFocus">
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                        <StackPanel Grid.Row="2" Grid.ColumnSpan="3" Orientation="Horizontal" HorizontalAlignment="Left" Margin="10 0 0 0">
                            <TextBox Width="350" IsReadOnly="True" materialDesign:HintAssist.Hint="Observed directory (third-party compatible)" Text="{Binding ObservedDirectory, Mode=OneWay}" />
                            <Button Margin="15 0 0 0" Height="35" Width="35" Command="{Binding SelectObservedFolderCommand}" Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" ToolTip="Select observed folder">
								<materialDesign:PackIcon Kind="Folder" Height="25" Width="25" />
							</Button>
							<Button Margin="15 0 0 0" Height="35" Width="35" Command="{Binding OpenObservedFolderCommand}" Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" ToolTip="Open observed folder">
                                <materialDesign:PackIcon Kind="Forward"  Height="25" Width="25" />
                            </Button>
                        </StackPanel>

                        <StackPanel Grid.Row="3" Grid.ColumnSpan="3" Orientation="Horizontal" HorizontalAlignment="Left"  Margin="10 0 0 0">
                            <TextBox Width="350" IsReadOnly="True" materialDesign:HintAssist.Hint="Screenshot directory" Text="{Binding ScreenshotDirectory, Mode=OneWay}" />
                            <Button Margin="15 0 0 0" Height="35" Width="35" Command="{Binding SelectScreenshotFolderCommand}" Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" ToolTip="Select screenshot folder">
								<materialDesign:PackIcon Kind="Folder" Height="25" Width="25" />
							</Button>
                            <Button Margin="15 0 0 0" Height="35" Width="35" Command="{Binding OpenScreenshotFolderCommand}" Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" ToolTip="Open screenshot folder">
                                <materialDesign:PackIcon Kind="Forward" Height="25" Width="25" />
                            </Button>
                        </StackPanel>
						<ComboBox Grid.Row="4" Grid.Column="0" materialDesign:HintAssist.Hint="Hardware info source"
								  materialDesign:HintAssist.IsFloating="True" MaxDropDownHeight="100" Margin="15 15 0 0"
								  ItemsSource="{Binding HardwareInfoSourceItems}" SelectedItem="{Binding SelectedHardwareInfoSource}">
							<ComboBox.ItemTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Converter={StaticResource EnumDescriptionConverter}}"/>
								</DataTemplate>
							</ComboBox.ItemTemplate>
						</ComboBox>
                        <TextBox Grid.Row="5" Grid.ColumnSpan="2" materialDesign:HintAssist.Hint="CPU" Margin="15 15 0 0">
                            <TextBox.Text>
                                <Binding Path="StutteringFactor"
										 Mode="TwoWay"
										 UpdateSourceTrigger="LostFocus">
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                        <TextBox Grid.Row="6" Grid.ColumnSpan="2" materialDesign:HintAssist.Hint="GPU" Margin="15 10 0 0">
                            <TextBox.Text>
                                <Binding Path="StutteringFactor"
										 Mode="TwoWay"
										 UpdateSourceTrigger="LostFocus">
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                        <TextBox Grid.Row="7" Grid.ColumnSpan="2" materialDesign:HintAssist.Hint="RAM" Margin="15 10 0 0">
                            <TextBox.Text>
                                <Binding Path="StutteringFactor"
										 Mode="TwoWay"
										 UpdateSourceTrigger="LostFocus">
                                </Binding>
                            </TextBox.Text>
                        </TextBox>
                    </Grid>
				</materialDesign:PopupBox>
			</Grid>
		</materialDesign:ColorZone>
	</Grid>
</UserControl>
